"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[108],{30108:(t,e,n)=>{n.r(e),n.d(e,{default:()=>Rt});var r=n(92444),a={class:"tw-p-4 tw-bg-gray-100 tw-rounded-md tw-min-h-screen"},l={class:"lg:tw-flex"},o={class:"lg:tw-w-1/2 tw-mb-4"},i={class:"lg:tw-mx-4 tw-py-4"},s={class:"lg:tw-px-4 tw-mt-3 tw-hidden"},u=(0,r.QD)("h1",{class:"tw-text-lg tw-text-gray-500 tw-font-semibold"}," Last 7 days ",-1),c={class:"lg:tw-w-1/2"},d=(0,r.QD)("h1",{class:"tw-text-lg tw-text-gray-500 tw-font-semibold"},"Last measures",-1);function f(t,e,n,f,h,w){var p=(0,r.E1)("page-actions"),b=(0,r.E1)("cardScale"),g=(0,r.E1)("QCharts"),m=(0,r.E1)("scaleList"),v=(0,r.E1)("modalScale"),y=(0,r.E1)("formPrint");return(0,r.Wz)(),(0,r.An)("div",a,[(0,r.K2)(p,{title:"Scale",class:"tw-py-4",onRefresh:e[0]||(e[0]=function(e){return t.getScaleMeasuresList(!0)})}),(0,r.QD)("div",l,[(0,r.QD)("div",o,[(0,r.QD)("div",i,[(0,r.K2)(b)]),(0,r.QD)("div",s,[u,(0,r.K2)(g,{chartsData:t.chartsData},null,8,["chartsData"])])]),(0,r.QD)("div",c,[d,(0,r.K2)(m)])]),(0,r.K2)(v),(0,r.K2)(y)])}var h=n(74044),w={class:"tw-flex tw-justify-center tw-rounded-md tw-py-4"},p={class:"tw-h-full tw-w-full tw-text-center tw-rounded-full tw-py-10 tw-bg-white"},b=(0,r.QD)("div",{class:"tw-font-semibold tw-text-gray-400 tw-mb-8 tw-text-base tw-mt-4"}," Weight ",-1),g={class:"tw-font-semibold tw-text-gray-500 tw-text-5xl tw-z-0 tw--mr-6"},m={class:"tw-text-sm tw-text-gray-400"},v={class:"tw-text-center tw-space-y-2"};function y(t,e,n,a,l,o){var i=(0,r.E1)("q-btn");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.QD)("div",w,[(0,r.QD)("div",{class:(0,h.WN)(["tw-bg-gradient-to-b tw-ease-linear tw-rounded-full tw-h-72 tw-w-72 tw-p-2",{"tw-from-red-700 tw-to-red-400":!t.measure.status,"tw-from-blue-700 tw-to-blue-400":t.measure.status}])},[(0,r.QD)("div",p,[b,(0,r.QD)("div",g,[(0,r.mY)((0,h.WA)(t.measure.weight)+" ",1),(0,r.QD)("span",m,(0,h.WA)(t.measure.uom||"kg"),1)]),(0,r.QD)("div",{class:(0,h.WN)(["tw-font-semibold tw-mb-8 tw-text-base tw-mt-4",{"tw-text-green-400":t.measure.status,"tw-text-red-400":!t.measure.status}])},(0,h.WA)(t.titleStatus),3)])],2)]),(0,r.QD)("div",v,[(0,r.QD)("div",null,[(0,r.K2)(i,{unelevated:"",rounded:"",color:"primary",icon:"fa-light fa-print",label:"Print",onClick:t.sendPrint,loading:t.loading,disabled:!t.measure.status},null,8,["onClick","loading","disabled"])]),(0,r.QD)("div",null,[t.scale.label?((0,r.Wz)(),(0,r.Az)(i,{key:0,unelevated:"",rounded:"",color:"primary",icon:"fa-thin fa-weight-scale",label:t.scale.label,onClick:e[0]||(e[0]=function(e){return t.scaleList.length>1&&(t.showModalScale=!0)})},null,8,["label"])):(0,r.g1)("",!0)])])])}var x=n(75836),M=n(20584),P=n(30152),S=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},D=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function I(){return S(this,void 0,Promise,(function(){var t,e;return D(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,M.c.show("apiRoutes.qcargoagione.measure",Y.scaleId,{refresh:!0})];case 1:return t=n.sent(),Y.measure=t.data,[3,3];case 2:return e=n.sent(),Y.clearIntervalFuntion(),Y.loadingMeasuresList=!1,Y.loadingPrint=!1,console.log(e),[3,3];case 3:return[2]}}))}))}function L(){return S(this,void 0,Promise,(function(){var t,e,n;return D(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t={params:{filter:{status:!0}}},[4,M.c.index("apiRoutes.qcargoagione.scales",t)];case 1:return e=r.sent(),Y.scaleList=e.data.map((function(t){return{label:t.name,value:t.id,id:t.id}})),[3,3];case 2:return n=r.sent(),Y.loadingMeasuresList=!1,Y.loadingPrint=!1,console.log(n),[3,3];case 3:return[2]}}))}))}function k(t){return void 0===t&&(t=!1),S(this,void 0,Promise,(function(){var e,n;return D(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),Y.loadingMeasuresList=!0,[4,M.c.index("apiRoutes.qcargoagione.scaleMeasures",{refresh:t,params:{filter:{scaleId:Y.scaleId,order:{field:"created_at",way:"desc"}}}})];case 1:return e=r.sent(),Y.scaleMeasuresList=e.data,Y.loadingMeasuresList=!1,[3,3];case 2:return n=r.sent(),Y.loadingMeasuresList=!1,Y.loadingPrint=!1,console.log(n),[3,3];case 3:return[2]}}))}))}function Q(){return S(this,void 0,Promise,(function(){var t,e,n,r;return D(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),t=Y.formPrint.flightNumber,e={refresh:!0,params:{filter:{search:null===t||void 0===t?void 0:t.toUpperCase()}}},[4,M.c.index("apiRoutes.qfly.flightaware",e)];case 1:return n=a.sent(),200==n.status&&(Y.dataTable=(0,P.c)().getTableListOfFlights(n.data),Y.modalTable=!0),[3,3];case 2:return r=a.sent(),console.log(r),Y.modalTable=!1,[3,3];case 3:return[2]}}))}))}var T=n(49456),A=n.n(T),E=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},O=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},W=(0,x.cB)({showModal:!1,titleModal:"",loading:!1,scaleId:null,measure:{tare:null,weight:0,uom:"Kg",scaleId:null,status:!1},scaleList:[],scaleMeasuresList:[],interval:null,loadingMeasuresList:!1,loadingPrint:!1,measureId:null,formPrint:{tare:null,weight:0,uom:"Kg",scaleId:null,flightNumber:null,date:A()().format("YYYY-MM-DD"),uldNumber:null,destinationAirportId:null},showModalPrint:!1,loadingModalPrint:!1,dataTable:[],modalTable:!1,loadingSearch:!1}),q=(0,r.S6)((function(){return{get showModal(){return W.showModal},set showModal(t){W.showModal=t},get titleModal(){return W.titleModal},set titleModal(t){W.titleModal=t},get loading(){return W.loading},set loading(t){W.loading=t},get scaleId(){return W.scaleId},set scaleId(t){W.scaleId=t},get measure(){return W.measure},set measure(t){W.measure=t},get scaleList(){return W.scaleList},set scaleList(t){W.scaleList=t},get scaleMeasuresList(){return W.scaleMeasuresList},set scaleMeasuresList(t){W.scaleMeasuresList=t},get interval(){return W.interval},set interval(t){W.interval=t},get loadingMeasuresList(){return W.loadingMeasuresList},set loadingMeasuresList(t){W.loadingMeasuresList=t},get loadingPrint(){return W.loadingPrint},set loadingPrint(t){W.loadingPrint=t},get measureId(){return W.measureId},set measureId(t){W.measureId=t},get formPrint(){return W.formPrint},set formPrint(t){W.formPrint=t},get showModalPrint(){return W.showModalPrint},set showModalPrint(t){W.showModalPrint=t},get loadingModalPrint(){return W.loadingModalPrint},set loadingModalPrint(t){W.loadingModalPrint=t},get dataTable(){return W.dataTable},set dataTable(t){W.dataTable=t},get modalTable(){return W.modalTable},set modalTable(t){W.modalTable=t},get loadingSearch(){return W.loadingSearch},set loadingSearch(t){W.loadingSearch=t},setInt:function(){var t=this;W.interval=setInterval((function(){return E(t,void 0,void 0,(function(){return O(this,(function(t){switch(t.label){case 0:return[4,I()];case 1:return t.sent(),[2]}}))}))}),3e3)},clearIntervalFuntion:function(){clearInterval(W.interval),W.interval=null},reset:function(){W.scaleId=null,W.showModal=!1,W.showModalPrint=!1}}})).value;const Y=q;var _=function(){return _=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},_.apply(this,arguments)},F=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},z=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function K(){return F(this,void 0,Promise,(function(){var t,e;return z(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),Y.loadingPrint=!0,[4,M.c.post("apiRoutes.qcargoagione.scalesPrint",{criteria:Y.scaleId})];case 1:return t=n.sent(),Y.measureId=t.data.measureId,Y.formPrint=_(_({},Y.formPrint),t.data),delete Y.formPrint.status,Y.loadingPrint=!1,[3,3];case 2:return e=n.sent(),Y.loadingPrint=!1,Y.loadingMeasuresList=!1,console.log(e),[3,3];case 3:return[2]}}))}))}function V(){return F(this,void 0,Promise,(function(){var t;return z(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,M.c.create("apiRoutes.qcargoagione.scaleMeasures",_({},Y.formPrint))];case 1:return e.sent(),[3,3];case 2:return t=e.sent(),console.log(t),[3,3];case 3:return[2]}}))}))}var j=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},C=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function R(){var t=(0,r.S6)({get:function(){return Y.showModal},set:function(t){return Y.showModal=t}}),e=(0,r.S6)((function(){return Y.scaleList.find((function(t){return Y.scaleId==t.value}))||{label:null,value:0}})),n=(0,r.S6)((function(){return Y.scaleList})),a=(0,r.S6)((function(){return Y.loadingPrint})),l=(0,r.S6)((function(){return Y.measure})),o=(0,r.S6)((function(){return Y.measure.status?"Online":"Offline"}));function i(){return j(this,void 0,void 0,(function(){return C(this,(function(t){switch(t.label){case 0:return Y.showModalPrint=!0,Y.loadingModalPrint=!0,[4,K()];case 1:return t.sent(),Y.loadingModalPrint=!1,[2]}}))}))}return{showModalScale:t,scale:e,measure:l,sendPrint:i,loading:a,titleStatus:o,scaleList:n}}var N=function(){return N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},N.apply(this,arguments)};const G=(0,r._M)({setup:function(){return N({},R())}});var U=n(68716),B=n(99140),H=n(95252),J=n.n(H);const $=(0,U.c)(G,[["render",y]]),X=$;J()(G,"components",{QBtn:B.c});var Z={class:"scale-list-ctn tw-max-h-screen tw-overflow-scroll"},tt={class:"tw-flex tw-text-base tw-space-x-8 tw-border tw-border-gray-200 tw-my-2 tw-p-4 tw-shadow-md tw-rounded-md tw-bg-white text-label"},et={class:"tw-flex tw-space-x-3 tw-w-1/2"},nt=(0,r.QD)("div",{class:"tw-pt-1 lg:tw-pt-0 tw-text-xl lg:tw-text-2xl"},[(0,r.QD)("i",{class:"tw-text-gray-400 fa-thin fa-weight-scale"})],-1),rt=(0,r.QD)("div",{class:"tw-text-gray-400 tw-text-xs tw-font-semibold tw-mb-0.5"},"Weight",-1),at={class:"tw-font-bold tw-text-xs lg:tw-text-sm"},lt={class:"tw-flex tw-space-x-3 tw-w-1/2"},ot=(0,r.QD)("div",{class:"tw-pt-1 lg:tw-pt-0 tw-text-xl lg:tw-text-2xl"},[(0,r.QD)("i",{class:"tw-text-gray-400 fa-thin fa-calendar"})],-1),it=(0,r.QD)("div",{class:"tw-text-gray-400 tw-text-xs tw-font-semibold tw-mb-0.5"},"Date",-1),st={class:"tw-font-bold tw-text-xs lg:tw-text-sm"},ut={key:0,class:"text-center tw-py-8 tw-text-2xl"};function ct(t,e,n,a,l,o){var i=(0,r.E1)("inner-loading");return(0,r.Wz)(),(0,r.An)("div",Z,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(t.scaleMeasuresList,(function(e,n){return(0,r.Wz)(),(0,r.An)("div",{key:n},[(0,r.QD)("div",tt,[(0,r.QD)("div",et,[nt,(0,r.QD)("div",null,[rt,(0,r.QD)("div",at,(0,h.WA)(e.weight||0)+" kg",1)])]),(0,r.QD)("div",lt,[ot,(0,r.QD)("div",null,[it,(0,r.QD)("div",st,(0,h.WA)(t.$moment(e.createdAt).format("YYYY-MM-DD HH:MM")),1)])])])])})),128)),0===t.scaleMeasuresList.length?((0,r.Wz)(),(0,r.An)("div",ut," No Data ")):(0,r.g1)("",!0),(0,r.K2)(i,{visible:t.loading},null,8,["visible"])])}function dt(){var t=(0,r.S6)((function(){return Y.scaleMeasuresList})),e=(0,r.S6)((function(){return Y.loadingMeasuresList}));return{scaleMeasuresList:t,loading:e}}var ft=function(){return ft=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},ft.apply(this,arguments)};const ht=(0,r._M)({setup:function(){return ft({},dt())}}),wt=(0,U.c)(ht,[["render",ct]]),pt=wt;function bt(t,e,n,a,l,o){var i=(0,r.E1)("dynamic-field"),s=(0,r.E1)("q-form"),u=(0,r.E1)("master-modal");return(0,r.Wz)(),(0,r.Az)(u,{modelValue:t.showModal,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.showModal=e}),title:"Scale",persistent:!0,loading:t.loading,actions:t.actions,hideCloseAction:"",maximized:t.$q.screen.lt.md},{default:(0,r.Ql)((function(){return[(0,r.K2)(s,{ref:"refModalScale"},{default:(0,r.Ql)((function(){return[(0,r.K2)(i,{field:t.fields.scaleId,modelValue:t.scaleId,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.scaleId=e})},null,8,["field","modelValue"])]})),_:1},512)]})),_:1},8,["modelValue","loading","actions","maximized"])}var gt=n(8932),mt=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},vt=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function yt(){var t=this,e=(0,x.IL)(null),n=(0,r.S6)((function(){return{scaleId:{value:null,type:"select",props:{label:"Scale",rules:[function(t){return!!t||gt._s.tr("isite.cms.message.fieldRequired")}],clearable:!0,options:Y.scaleList}}}})),a=(0,r.S6)((function(){return Y.loading})),l=(0,r.S6)({get:function(){return Y.showModal},set:function(t){return Y.showModal=t}}),o=(0,r.S6)({get:function(){return Y.scaleId},set:function(t){return Y.scaleId=t}}),i=(0,r.S6)((function(){return[{props:{color:"primary",label:"save"},action:function(){return mt(t,void 0,void 0,(function(){return vt(this,(function(t){return s(),[2]}))}))}}]}));function s(){return mt(this,void 0,void 0,(function(){var t=this;return vt(this,(function(n){return e.value.validate().then((function(e){return mt(t,void 0,void 0,(function(){return vt(this,(function(t){switch(t.label){case 0:return e?(Y.measure.weight=0,Y.clearIntervalFuntion(),Y.showModal=!1,[4,Y.setInt()]):[3,4];case 1:return t.sent(),[4,k()];case 2:return t.sent(),[4,gt.qu.set("scaleId",Y.scaleId)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))})),[2]}))}))}return{loading:a,showModal:l,scaleId:o,actions:i,fields:n,refModalScale:e}}var xt=function(){return xt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},xt.apply(this,arguments)};const Mt=(0,r._M)({setup:function(){return xt({},yt())}});var Pt=n(14288);const St=(0,U.c)(Mt,[["render",bt]]),Dt=St;J()(Mt,"components",{QForm:Pt.c});var It=n(93724),Lt=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},kt=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function Qt(){var t=this,e=(0,x.IL)({type:"lineChart",dataLabels:["May","Jun","Jul","Aug","Sep","Oct"],dataSets:[{label:"scale",backgroundColor:"transparent",borderColor:"#FF4500",data:[40,20,72,13,104,0]}]});return(0,r.u2)((function(){return Lt(t,void 0,void 0,(function(){var t,e,n;return kt(this,(function(r){switch(r.label){case 0:return[4,L()];case 1:return r.sent(),1!==Y.scaleList.length?[3,3]:[4,gt.qu.set("scaleId",Y.scaleList[0].id)];case 2:r.sent(),r.label=3;case 3:return[4,gt.qu.get.item("scaleId")];case 4:return"null"===r.sent()?[3,6]:[4,gt.qu.get.item("scaleId")];case 5:return e=r.sent(),[3,7];case 6:e=null,r.label=7;case 7:return t=e,Y.scaleId=(null===(n=Y.scaleList.find((function(e){return e.id==t})))||void 0===n?void 0:n.id)||null,Y.scaleId?[3,8]:(Y.showModal=!0,[3,11]);case 8:return[4,Y.setInt()];case 9:return r.sent(),[4,k()];case 10:r.sent(),r.label=11;case 11:return[2]}}))}))})),(0,r.GE)((function(){Y.clearIntervalFuntion()})),{chartsData:e,getScaleMeasuresList:k,scaleStore:Y}}var Tt={class:"tw-w-full tw-flex tw-justify-center"},At={class:"tw-w-32 tw-rounded-md tw-text-center tw-py-4 tw-bg-gray-200"};function Et(t,e,n,a,l,o){var i=(0,r.E1)("dynamic-field"),s=(0,r.E1)("q-form"),u=(0,r.E1)("master-modal"),c=(0,r.E1)("tableFlight");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.K2)(u,{modelValue:t.showModal,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.showModal=e}),title:"Post to Cargo Spot",persistent:!0,actions:t.actions,loading:t.loading,onHide:t.clear},{default:(0,r.Ql)((function(){return[(0,r.QD)("div",null,[(0,r.K2)(s,{ref:"refFormScale"},{default:(0,r.Ql)((function(){return[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(t.formFields,(function(e,n){return(0,r.Wz)(),(0,r.An)("div",{key:n},[(0,r.K2)(i,{modelValue:t.formPrint[n],"onUpdate:modelValue":function(e){return t.formPrint[n]=e},field:e,onEnter:function(n){return t.search(e)}},null,8,["modelValue","onUpdate:modelValue","field","onEnter"])])})),128))]})),_:1},512),(0,r.QD)("div",Tt,[(0,r.QD)("div",At,(0,h.WA)(t.formPrint.weight)+" "+(0,h.WA)(t.formPrint.uom),1)])])]})),_:1},8,["modelValue","actions","loading","onHide"]),(0,r.K2)(c,{onCancel:e[1]||(e[1]=function(e){return t.dialog=e}),dialog:t.dialog,dataTable:t.dataTable,onFlightSelect:e[2]||(e[2]=function(e){return t.setDataTable(e)}),onValidateBound:t.addManually},null,8,["dialog","dataTable","onValidateBound"])])}var Ot=function(t,e,n,r){function a(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,l){function o(t){try{s(r.next(t))}catch(e){l(e)}}function i(t){try{s(r["throw"](t))}catch(e){l(e)}}function s(t){t.done?n(t.value):a(t.value).then(o,i)}s((r=r.apply(t,e||[])).next())}))},Wt=function(t,e){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(t){return function(e){return s([t,e])}}function s(i){if(n)throw new TypeError("Generator is already executing.");while(l&&(l=0,i[0]&&(o=0)),o)try{if(n=1,r&&(a=2&i[0]?r["return"]:i[0]?r["throw"]||((a=r["return"])&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!(a=a.length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};function qt(){var t=this,e=(0,x.IL)(null),a=(0,r.S6)((function(){return Y.formPrint})),l=(0,r.S6)({get:function(){return Y.showModalPrint},set:function(t){Y.showModalPrint=t}}),o=(0,r.S6)({get:function(){return Y.modalTable},set:function(t){Y.modalTable=t}}),i=(0,r.S6)((function(){return Y.loadingModalPrint})),s=(0,r.S6)((function(){return Y.dataTable})),u=(0,r.S6)((function(){return{flightNumber:{value:null,type:"search",props:{rules:[function(t){return!!t||gt._s.tr("isite.cms.message.fieldRequired")}],loading:Y.loadingSearch,label:"".concat(gt._s.tr("ifly.cms.form.flight")),clearable:!0,maxlength:10,color:"primary"},label:gt._s.tr("ifly.cms.form.flight")},date:{value:null,type:"date",props:{rules:[function(t){return!!t||gt._s.tr("isite.cms.message.fieldRequired")}],hint:"Format: YYYY-MM-DD",mask:"YYYY-MM-DD","place-holder":"YYYY-MM-DD",label:"Date",clearable:!0,color:"primary",format24h:!0},label:gt._s.tr("isite.cms.label.date")},destinationAirportId:{value:null,type:"crud",props:{crudType:"select",crudData:n.e(6456).then(n.bind(n,26456)),crudProps:{label:"Destination Airport",rules:[function(t){return!!t||gt._s.tr("isite.cms.message.fieldRequired")}]},config:{options:{label:"fullName",value:"id"}}}},uldNumber:{value:null,type:"input",props:{rules:[function(t){return!!t||gt._s.tr("isite.cms.message.fieldRequired")}],label:"ULD Number",clearable:!0,maxlength:10,color:"primary"},label:"ULD Number"}}})),c=(0,r.S6)((function(){return[{props:{color:"primary",label:"Discard"},action:function(){return Ot(t,void 0,void 0,(function(){return Wt(this,(function(t){switch(t.label){case 0:return[4,k()];case 1:return t.sent(),f(),[2]}}))}))}},{props:{color:"primary",label:"Submit"},action:function(){return Ot(t,void 0,void 0,(function(){return Wt(this,(function(t){switch(t.label){case 0:return[4,d()];case 1:return t.sent(),[2]}}))}))}}]}));function d(){return Ot(this,void 0,Promise,(function(){var t;return Wt(this,(function(n){switch(n.label){case 0:return Y.loadingModalPrint=!0,[4,e.value.validate()];case 1:return t=n.sent(),t?[4,V()]:[3,4];case 2:return n.sent(),[4,k()];case 3:n.sent(),f(),n.label=4;case 4:return Y.loadingModalPrint=!1,[2]}}))}))}function f(){l.value=!1}function h(t){var e=t.select,n=t.dialog;Y.modalTable=n,a.value.destinationAirportId=e.destinationAirportId}function w(){a.value.destinationAirportId=null,Y.modalTable=!1,Y.showModal=!0}function p(t){var e=t.type;return Ot(this,void 0,void 0,(function(){return Wt(this,(function(t){switch(t.label){case 0:return"search"!=e?[3,2]:(Y.loadingSearch=!0,[4,Q()]);case 1:t.sent(),Y.loadingSearch=!1,t.label=2;case 2:return[2]}}))}))}return(0,r.GE)((function(){l.value=!1})),{formPrint:a,formFields:u,showModal:l,loading:i,actions:c,clear:f,refFormScale:e,setDataTable:h,addManually:w,dialog:o,search:p,dataTable:s}}var Yt=n(59788),_t=function(){return _t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},_t.apply(this,arguments)};const Ft=(0,r._M)({components:{tableFlight:Yt.c},setup:function(){return _t({},qt())}}),zt=(0,U.c)(Ft,[["render",Et]]),Kt=zt;J()(Ft,"components",{QForm:Pt.c});var Vt=function(){return Vt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Vt.apply(this,arguments)};const jt=(0,r._M)({components:{cardScale:X,scaleList:pt,modalScale:Dt,QCharts:It.c,formPrint:Kt},setup:function(){return Vt({},Qt())}}),Ct=(0,U.c)(jt,[["render",f]]),Rt=Ct}}]);