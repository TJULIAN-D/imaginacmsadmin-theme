"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[2460],{62460:(e,t,a)=>{function l(e,t,a,l,i,s){return null}a.r(t),a.d(t,{default:()=>n});var i=a(8932);const s={computed:{crudData(){return{permission:"setup.contracts",crudId:this.$uid(),apiRoute:"apiRoutes.qsetupagione.contracts",read:{columns:[{name:"id",label:this.$tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"contractName",label:"Contract Name",field:"contractName",align:"left",action:"edit"},{name:"customerName",label:"Customer Name",field:"customerName",align:"left"},{name:"contractStatusId",label:"Status",field:"contractStatusId",format:e=>1==e?i._s.tr("isite.cms.label.enabled"):i._s.tr("isite.cms.label.disabled"),align:"left"},{name:"building",label:"building Name",field:"building",format:e=>e?e.buildingName:"-",align:"left"},{name:"costCenter",label:"Cost Center name",field:"costCenter",format:e=>e?e.name:"-",align:"left"},{name:"workdayId",label:"Workday Id",field:"workdayId",align:"left"},{name:"contractEffectiveDate",label:"Contract Effective Date",field:"contractEffectiveDate",align:"left"},{name:"contractSignedDate",label:"Contract Signed Date",field:"contractSignedDate",align:"left"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left"}],filters:{customerId:{quickFilter:!0,value:null,type:"select",loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupCustomers",select:{label:"customerName",id:"id"}},props:{label:"Customer",clearable:!0}},buildingId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupBuildings",select:{label:"buildingName",id:"id"}},props:{label:"Building",clearable:!0}},costCenterId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupCostCenters",select:{label:"name",id:"id"}},props:{label:"Cost Center",clearable:!0}},businessUnitId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.businessUnits",select:{label:"workdayWid",id:"id"}},props:{label:"Business Unit Id",clearable:!0}}},requestParams:{},relation:{label:"Contracts Lines",apiRoute:"apiRoutes.qsetupagione.contractLines",requestParams:e=>({filter:{contractId:e.id},include:"contract"}),columns:[{name:"Id",label:"ID",field:"id",align:"left"},{name:"fullName",label:"Name",field:"fullName",align:"left"},{name:"contractLineWorkdayId",label:"Contract Line Workday Id",field:"contractLineWorkdayId",align:"left"},{name:"contractLineName",label:"Contract Line Name",field:"contractLineName",align:"left"}]},actions:[{name:"resync",icon:"fa-solid fa-rotate-right",label:"Resync",action:e=>{this.resync(e.id)},format:e=>({vIf:this.$hasAccess("setup.contracts.resync")})}],bulkActions:[{apiRoute:"apiRoutes.qsetupagione.bulkResync",permission:"setup.contracts.bulk-resync",criteria:"id",props:{icon:"fas fa-download",label:"Bulk resync"}}]},create:!1,update:{title:"Update contract"},delete:!1,formLeft:{id:{value:null},contractName:{value:"",type:"input",props:{rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],label:"Contract Name",clearable:!0,color:"primary",readonly:!0,"hide-bottom-space":!1},label:"Contract Name"},contractDescription:{value:"",type:"input",props:{type:"textarea",rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],label:"Contract Description",clearable:!0,color:"primary","hide-bottom-space":!1},label:"Contract Description"},readyToPostWd:{value:"false",type:"select",props:{label:"Ready To Post Wd",options:[{label:this.$tr("isite.cms.label.enabled"),value:!0},{label:this.$tr("isite.cms.label.disabled"),value:!1}]}},oneClickPost:{value:"false",type:"select",props:{label:"One Click Post",options:[{label:this.$tr("isite.cms.label.enabled"),value:!0},{label:this.$tr("isite.cms.label.disabled"),value:!1}]}},passengerLaborContract:{value:null,type:"select",props:{label:"Passenger labor contract",options:[{label:"Yes",value:!0},{label:"No",value:!1}]}}},formRight:{contractStatusId:{value:"",type:"select",props:{rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],label:"contract Status Id",clearable:!0,options:[{label:this.$tr("isite.cms.label.enabled"),value:1},{label:this.$tr("isite.cms.label.disabled"),value:2}]}},contractTypeId:{value:"",type:"select",props:{label:"Contract Type",readonly:!0},loadOptions:{apiRoute:"apiRoutes.qsetupagione.contractType",select:{label:"typeName",id:"id"},requestParams:{refresh:!0}}},contractEffectiveDate:{value:"",type:"fullDate",props:{rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],label:"* Contract Effective Date",clearable:!0,color:"primary",format24h:!0,readonly:!0}},workdayId:{value:"",type:"input",props:{rules:[e=>!!e||this.$tr("isite.cms.message.fieldRequired")],label:"Workday Id",clearable:!0,color:"primary","hide-bottom-space":!1,readonly:!0},label:"Workday Id"},customerId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupCustomers",select:{label:"customerName",id:"id"}},props:{label:"Customer",clearable:!0,readonly:!0}},buildingId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupBuildings",select:{label:"buildingName",id:"id"}},props:{label:"Building",clearable:!0,readonly:!0}},costCenterId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupCostCenters",select:{label:"name",id:"id"}},props:{label:"Cost Center",clearable:!0,readonly:!0}},businessUnitId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.businessUnits",select:{label:"workdayWid",id:"id"}},props:{label:"Business Unit Id",clearable:!0,readonly:!0}},companyId:{value:null,type:"select",quickFilter:!0,loadOptions:{apiRoute:"apiRoutes.qsetupagione.setupCompanies",select:{label:"fullName",id:"id"}},props:{label:"Company",clearable:!0,readonly:!0}}},getDataForm:(e,t)=>new Promise(((t,a)=>{t({...e,contractEffectiveDate:this.dateFormatterFull(e.contractEffectiveDate)})}))}}},methods:{dateFormatterFull(e,t="datetime"){if(!e)return null;if("datetime"==t){const t=e.split(" "),[a,l,i]=t[0].substr(0,10).split("/"),[s,o]=t[1].substr(0,5).split(":");return`${l}/${i}/${a} ${s}:${o}`}{const[t,a,l]=e.substr(0,10).split("/");return`${a}/${l}/${t}`}},async resync(e){const t=1,a="apiRoutes.qsetupagione.resync";try{await this.$crud.update(a,e,{id:e,resync:t}),this.$root.$emit("crud.data.refresh")}catch(l){console.error(l)}}}};var o=a(68716);const r=(0,o.c)(s,[["render",l]]),n=r}}]);