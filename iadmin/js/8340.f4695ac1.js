"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[8340],{88340:(a,t,e)=>{e.r(t),e.d(t,{default:()=>k});var l=e(92444),n=e(74044),o=e(264);const s=["innerHTML"],d={class:"q-py-sm"};function i(a,t,e,i,u,r){const c=(0,l.E1)("dynamic-field"),p=(0,l.E1)("q-btn"),m=(0,l.E1)("q-popup-edit"),h=(0,l.E1)("q-td"),f=(0,l.E1)("q-tr"),w=(0,l.E1)("q-table");return(0,l.Wz)(),(0,l.An)("div",null,[((0,l.Wz)(),(0,l.Az)((0,l.mk)(u.componentCrudData),{ref:"componentCrudData"},null,512)),(0,l.K2)(w,{flat:"",bordered:"",title:"DynamicTable",rows:u.rows,columns:u.columns,"row-key":"name","binary-state-sort":""},{body:(0,l.Ql)((a=>[(0,l.K2)(f,{props:a},{default:(0,l.Ql)((()=>[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(a.cols,(t=>((0,l.Wz)(),(0,l.Az)(h,{key:t.name,props:a},{default:(0,l.Ql)((()=>[(0,l.QD)("div",{class:"ellipsis-2-lines",style:{"max-width":"300px"},innerHTML:a.row[t.name]},null,8,s),t?.isEditable?((0,l.Wz)(),(0,l.Az)(m,{key:0,modelValue:a.row[t.name],"onUpdate:modelValue":[e=>a.row[t.name]=e,e=>r.updateRow({col:t,row:a.row})],"no-caps":""},{default:(0,l.Ql)((a=>[(0,l.QD)("p",null,"Update "+(0,n.WA)(t.label)+" :",1),(0,l.QD)("div",d,[(0,l.K2)(c,{modelValue:a.value,"onUpdate:modelValue":t=>a.value=t,field:t["dynamicField"]},null,8,["modelValue","onUpdate:modelValue","field"]),(0,l.K2)(p,{label:"Close","no-caps":"",flat:"",dense:"",onClick:(0,o.Y7)(a.cancel,["stop","prevent"])},null,8,["onClick"]),(0,l.K2)(p,{label:"Update","no-caps":"",flat:"",dense:"",onClick:(0,o.Y7)(a.set,["stop","prevent"]),disable:!1===a.validate(a.value)||a.initialValue===a.value},null,8,["onClick","disable"])])])),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,l.g1)("",!0)])),_:2},1032,["props"])))),128))])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}var u=e(75836);const r={props:{},components:{},watch:{},mounted(){this.$nextTick((function(){this.init()}))},data(){return{loading:!1,crudData:null,componentCrudData:null,columns:[],rows:[]}},computed:{},methods:{async init(){await this.getCrudData(),await this.getData()},getCrudModule(){let a=this.$route.meta.crud;return a},async getCrudData(){const a=await this.getCrudModule();a.default&&(this.componentCrudData=(0,u.Md)(a.default)),this.$nextTick((function(){if(this.$refs.componentCrudData&&this.$refs.componentCrudData.crudData){this.crudData=this.$clone(this.$refs.componentCrudData.crudData),this.columns=this.crudData.read.columns||[];const a={...this.crudData.formLeft,...this.crudData.formRight};this.columns.forEach((t=>{t?.isEditable&&(t["dynamicField"]={...a[t.name]})}))}}))},getData(){const a=[{id:1,title:"new task",startDate:""}];this.rows=(0,u.IL)(a)},updateRow(a){console.warn("update row ===>> ",a)}}};var c=e(68716),p=e(40792),m=e(45144),h=e(50213),f=e(86742),w=e(99140),D=e(95252),b=e.n(D);const C=(0,c.c)(r,[["render",i]]),k=C;b()(r,"components",{QTable:p.c,QTr:m.c,QTd:h.c,QPopupEdit:f.c,QBtn:w.c})}}]);