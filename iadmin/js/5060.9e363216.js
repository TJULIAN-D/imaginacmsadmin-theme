"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[5060],{45060:(t,e,a)=>{a.r(e),a.d(e,{default:()=>Q});var l=a(92444);function o(t,e,a,o,r,n){const s=(0,l.E1)("modalContract");return(0,l.Wz)(),(0,l.Az)(s)}var r=a(89632);function n(t,e,o,r,n,s){const c=(0,l.E1)("basicData"),i=(0,l.E1)("contractLineTable"),d=(0,l.E1)("crud"),u=(0,l.E1)("master-modal");return(0,l.Wz)(),(0,l.An)("div",null,[(0,l.K2)(u,(0,l.Gu)({id:"modalComponent",modelValue:s.visibleContract,"onUpdate:modelValue":e[0]||(e[0]=t=>s.visibleContract=t)},s.modalProps,{"custom-position":"",persistent:!0,loading:s.modalLoadingContract,onHide:s.hideVisibleContract,width:"90vw",maximized:t.$q.screen.lt.md}),{default:(0,l.Ql)((()=>[(0,l.K2)(c),(0,l.K2)(i),(0,l.K2)(d,{"crud-data":a.e(1640).then(a.bind(a,97208)),customData:s.customCrudData,title:"Contract rules"},null,8,["crud-data","customData"])])),_:1},16,["modelValue","loading","onHide","maximized"])])}var s=a(74044);const c={class:"q-py-lg q-pa-md"},i={class:"row q-px-md"};function d(t,e,a,o,r,n){const d=(0,l.E1)("q-card-section"),u=(0,l.E1)("q-card");return(0,l.Wz)(),(0,l.An)("div",c,[(0,l.K2)(u,{class:"my-card"},{default:(0,l.Ql)((()=>[(0,l.K2)(d,null,{default:(0,l.Ql)((()=>[(0,l.QD)("div",i,[(0,l.QD)("div",{class:(0,s.WN)({"col-6":n.isDesktop,"col-12":!n.isDesktop})},[(0,l.QD)("p",null,"Name: "+(0,s.WA)(n.basicDataContract.contractName),1),(0,l.QD)("p",null,"Customer: "+(0,s.WA)(n.basicDataContract.customer.customerName),1),(0,l.QD)("p",null,"Status: "+(0,s.WA)(n.basicDataContract.contractStatus.statusName),1)],2),(0,l.QD)("div",{class:(0,s.WN)({"col-6":n.isDesktop,"col-12":!n.isDesktop})},[(0,l.QD)("p",null,"Cost Center: "+(0,s.WA)(n.basicDataContract.costCenter.name),1),(0,l.QD)("p",null,"WorkDay: "+(0,s.WA)(n.basicDataContract.workdayId),1),(0,l.QD)("p",null,"Work Tag: "+(0,s.WA)(n.basicDataContract.worktag),1)],2)])])),_:1})])),_:1})])}const u={computed:{isDesktop(){return window.innerWidth>="900"},basicDataContract(){return(0,r.c)().getBasicDataContract()}}};var m=a(68716),p=a(70608),f=a(71008),b=a(95252),C=a.n(b);const g=(0,m.c)(u,[["render",d]]),y=g;C()(u,"components",{QCard:p.c,QCardSection:f.c});const k={class:"q-pa-md"};function D(t,e,a,o,r,n){const s=(0,l.E1)("q-table");return(0,l.Wz)(),(0,l.An)("div",k,[(0,l.K2)(s,{title:"Contract Lines",rows:n.tableData,columns:r.columns,"row-key":"name",class:"stick-table"},null,8,["rows","columns"])])}const I={data(){return{columns:[{name:"contractLineName",label:"Line Name",align:"left",field:"contractLineName"},{name:"contractLineDescription",label:"Description",align:"left",field:"contractLineDescription"},{name:"contractLineWorkdayId",label:"Workday Id",align:"left",field:"contractLineWorkdayId"},{name:"workdaySalesLineItemId",label:"Workday Sales Line Item Id",align:"left",field:"workdaySalesLineItemId"},{name:"workdayContractLineStatus",label:"Workday Contract Line Status",align:"left",field:"workdayContractLineStatus"}]}},computed:{tableData(){return(0,r.c)().getContractLineList()}}};var h=a(40792);const w=(0,m.c)(I,[["render",D]]),N=w;C()(I,"components",{QTable:h.c});const W={components:{basicData:y,contractLineTable:N},computed:{visibleContract:{get(){return(0,r.c)().getVisibleContract()},set(t){(0,r.c)().setVisibleContract(t)}},modalProps(){return(0,r.c)().getModalProps()},modalLoadingContract(){return(0,r.c)().getModalLoadingContract()},customCrudData(){return{read:{searchAction:!1,requestParams:{include:"contract,product",filter:{contractId:(0,r.c)().getContractId()}},filters:{}}}}},methods:{hideVisibleContract(){(0,r.c)().hideVisibleContract(),(0,r.c)().resetBasicDataContract(),(0,r.c)().setContractLineList([]),(0,r.c)().setContractId(0)}}},v=(0,m.c)(W,[["render",n]]),L=v,S={components:{modalContract:L},computed:{crudData(){return{crudId:this.$uid(),apiRoute:"apiRoutes.qsetupagione.setupCustomers",read:{columns:[{name:"id",label:this.$tr("isite.cms.form.id"),field:"id",style:"width: 50px"},{name:"customerName",label:"Customer Name",field:"customerName",align:"left"},{name:"workdayId",label:"Workday Id",field:"workdayId",align:"left"},{name:"customerStatus",label:"Customer Status",field:"customerStatus",format:t=>t?t.statusName:"",align:"left"},{name:"airline",label:"Airline",field:"airline",format:t=>t?t.airlineName:"",align:"left"},{name:"adHocWorkOrders",label:"ad Hoc Work Orders",field:"adHocWorkOrders",format:t=>t?"Yes":"No",align:"left"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left"}],requestParams:{include:"customerStatus,airline"},relation:{label:"Contracts",apiRoute:"apiRoutes.qsetupagione.contracts",requestParams:t=>({filter:{customerId:t.id},include:"contractType,contractStatus,costCenter"}),columns:[{name:"Id",label:"ID",field:"id",align:"left"},{name:"contractName",label:"Name",field:"contractName",align:"left"},{name:"customerName",label:"Customer",field:"customer",format:t=>t?.customerName||"-",align:"left"},{name:"costCenter",label:"Cost Center",field:"costCenter",format:t=>t?.name||"-",align:"left"},{name:"workdayId",label:"Workday Id",field:"workdayId",align:"left"},{name:"contractStatus",label:"Status",field:"contractStatus",format:t=>t?.statusName||"-",align:"left"},{name:"contractType",label:"Type",field:"contractType",format:t=>t?.typeName||"-",align:"left"},{name:"actions",label:this.$tr("isite.cms.form.actions"),align:"left",align:"left"}],actions:[{name:"show",icon:"fas fa-eye",label:this.$tr("isite.cms.label.show"),action:t=>{(0,r.c)().showVisibleContract(),(0,r.c)().setModalProps({title:`Contract: ${t.contractName}`,update:!1}),(0,r.c)().setContractId(t.id),(0,r.c)().showBasicDataContract(t.id)}}]}},create:!1,update:{title:"Update customer"},delete:!0,formLeft:{id:{value:null},customerName:{name:"customerName",value:"",type:"input",props:{rules:[t=>!!t||this.$tr("isite.cms.message.fieldRequired")],readonly:!0,label:"Customer",clearable:!0,color:"primary","hide-bottom-space":!1},label:"Customer Name"},workdayId:{name:"workdayId",value:"",type:"input",props:{rules:[t=>!!t||this.$tr("isite.cms.message.fieldRequired")],readonly:!0,label:"WorkdayId",clearable:!0,color:"primary","hide-bottom-space":!1},label:"workday Id"},customerStatusId:{value:"",type:"select",props:{label:"Status"},loadOptions:{apiRoute:"apiRoutes.qsetupagione.customerStatuses",select:{label:"statusName",id:"id"},requestParams:{refresh:!0}}},airlineId:{value:null,type:"crud",props:{crudType:"select",crudData:Promise.all([a.e(1640),a.e(2704)]).then(a.bind(a,52704)),crudProps:{label:"Airline"},config:{options:{label:"airlineName",value:"id"}}}},adHocWorkOrders:{value:"false",type:"select",props:{label:"adHocWorkOrders",options:[{id:0,value:"false",label:"false"},{id:1,value:"true",label:"true"}]}}}}}}},q=(0,m.c)(S,[["render",o]]),Q=q}}]);