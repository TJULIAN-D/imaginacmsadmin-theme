"use strict";(globalThis["webpackChunkadmin_quasar"]=globalThis["webpackChunkadmin_quasar"]||[]).push([[5756],{55756:(e,a,t)=>{t.r(a),t.d(a,{default:()=>$});var l=t(92444);function n(e,a,t,n,i,s){const r=(0,l.E1)("flightTrackTrace");return(0,l.Wz)(),(0,l.Az)(r)}const i={class:"tw-p-4"},s=(0,l.QD)("div",{class:"tw-text-center"},[(0,l.QD)("img",{src:"https://agidev.blob.core.windows.net/agione/AGI_logo_app.png",alt:"",srcset:""})],-1),r={class:"tw-px-8 tw-border tw-py-4 tw-rounded tw-space-y-4 tw-mx-auto tw-my-4 tw-shadow-lg"},o=(0,l.QD)("p",{class:"tw-font-semibold"},"AIR WAYBILL TRACK AND TRACE",-1),c={class:"tw-flex tw-w-full tw-space-x-4"},u={class:"tw-w-64"};function g(e,a,t,n,g,w){const d=(0,l.E1)("dynamic-field"),b=(0,l.E1)("q-btn"),m=(0,l.E1)("flightDetail");return(0,l.Wz)(),(0,l.An)("div",i,[s,(0,l.QD)("div",r,[o,(0,l.QD)("div",c,[(0,l.QD)("div",u,[(0,l.K2)(d,{field:g.airWaybillNumber,modelValue:g.airWaybillNumber.value,"onUpdate:modelValue":a[0]||(a[0]=e=>g.airWaybillNumber.value=e),onEnter:w.getAwbTracking},null,8,["field","modelValue","onEnter"])]),(0,l.QD)("div",null,[(0,l.K2)(b,{color:"primary",label:e.$tr("isite.cms.label.search"),onClick:w.getAwbTracking},null,8,["label","onClick"])])])]),(0,l.QD)("div",null,[(0,l.K2)(m)])])}var w=t(74044);const d={key:0,class:"tw-shadow-lg tw-rounded tw-py-4"},b=(0,l.QD)("div",{class:"tw-py-4 tw-bg-blue-800 tw-space-y-2 tw-rounded tw-text-white tw-px-8 tw-font-semibold"},[(0,l.QD)("p",null,"AWB Details")],-1),m={class:"tw-border tw-border-gray-200 tw-p-4 tw-m-4 tw-rounded"},f={class:"tw-grid tw-grid-cols-2 tw-space-y-8"},p={class:"tw-col-span-2"},v=(0,l.QD)("span",{class:"tw-font-semibold"}," Air Waybill Number: ",-1),k=(0,l.QD)("span",{class:"tw-font-semibold"}," Origin: ",-1),D=(0,l.QD)("span",{class:"tw-font-semibold"}," Pieces: ",-1),T=(0,l.QD)("span",{class:"tw-font-semibold"}," Destination: ",-1),h=(0,l.QD)("span",{class:"tw-font-semibold"}," Weight: ",-1),y={class:"tw-px-4"},Q={class:"tw-font-semibold"},A={key:1,class:"tw-flex tw-justify-center tw-py-24 tw-bg-white tw-bg-opacity-75 tw-z-20 tw-shadow-lg tw-rounded"};function W(e,a,t,n,i,s){const r=(0,l.E1)("q-td"),o=(0,l.E1)("q-tr"),c=(0,l.E1)("q-table"),u=(0,l.E1)("q-spinner");return(0,l.Wz)(),(0,l.An)("div",null,[!s.loading&&s.awbTrackingList["@num"]?((0,l.Wz)(),(0,l.An)("div",d,[b,(0,l.QD)("div",null,[(0,l.QD)("div",m,[(0,l.QD)("div",f,[(0,l.QD)("div",p,[v,(0,l.mY)(" "+(0,w.WA)(s.awbTrackingList["@num"]),1)]),(0,l.QD)("div",null,[k,(0,l.mY)(" "+(0,w.WA)(s.awbTrackingList.awbOrigin),1)]),(0,l.QD)("div",null,[D,(0,l.mY)(" "+(0,w.WA)(s.awbTrackingList.awbPieces),1)]),(0,l.QD)("div",null,[T,(0,l.mY)(" "+(0,w.WA)(s.awbTrackingList.awbDestination),1)]),(0,l.QD)("div",null,[h,(0,l.mY)(" "+(0,w.WA)(s.awbTrackingList.awbWeight),1)])])]),(0,l.QD)("div",y,[(0,l.K2)(c,{class:"table-traking",title:"Status information",rows:s.awbTrackingList.segments,columns:s.columns,"rows-per-page-options":[0]},{body:(0,l.Ql)((e=>[(0,l.K2)(o,{props:e,class:(0,w.WN)(["tw-shadow-sm",{"tw-bg-gray-100":Boolean(e.rowIndex%2)}])},{default:(0,l.Ql)((()=>[((0,l.Wz)(!0),(0,l.An)(l.ae,null,(0,l.mi)(e.cols,(a=>((0,l.Wz)(),(0,l.Az)(r,{key:a.name,props:e},{default:(0,l.Ql)((()=>[(0,l.QD)("span",Q,(0,w.WA)(a.value),1)])),_:2},1032,["props"])))),128))])),_:2},1032,["props","class"])])),_:1},8,["rows","columns"])])])])):(0,l.g1)("",!0),s.loading?((0,l.Wz)(),(0,l.An)("div",A,[(0,l.K2)(u,{color:"primary",size:"5em"})])):(0,l.g1)("",!0)])}var L=t(20584),E=t(75836),N=t(8932);const x=(0,E.cB)({awbTrackingList:{"@num":null,awbOrigin:null,awbDestination:null,awbPieces:null,awbWeight:null,awbVolume:null,routing:null,segments:[]},loading:!1,errorMessage:null});function z(){async function e(e){try{n();const a=await L.c.post("apiRoutes.qcargoagione.awbTracking",{key:e});if(a.data.errorMessage)return x.errorMessage=a.data.errorMessage,N.Qb.info({mode:"modal",title:"",message:a.data.errorMessage,actions:[{label:"Ok",color:"primary"}]}),s(),void l();t(a.data),l(),x.errorMessage=null}catch(a){l(),s(),console.log(a)}}function a(){return x.awbTrackingList}function t(e){x.awbTrackingList=e}function l(){x.loading=!1}function n(){x.loading=!0}function i(){return x.loading}function s(){x.awbTrackingList={"@num":null,awbOrigin:null,awbDestination:null,awbPieces:null,awbWeight:null,awbVolume:null,routing:null,segments:[]}}function r(){return x.errorMessage}return{getAwbTrackingList:a,setAwbTrackingList:t,getAwbTracking:e,hideLoading:l,showLoading:n,getLoading:i,getErrorMessage:r,resetAwbTrackingList:s}}const C={computed:{awbTrackingList(){return z().getAwbTrackingList()},columns(){return[{name:"origin",label:"Origin",field:"origin",sortable:!0,align:"left"},{name:"dest",label:"Dest",field:"dest",sortable:!0,align:"left"},{name:"flightNum",label:"flight",field:"flightNum",sortable:!0,align:"left"},{name:"status",label:"Status",field:"status",sortable:!0,align:"left"},{name:"statusCode",label:"Code",field:"statusCode",sortable:!0,align:"left"},{name:"eventDate",label:"Event Date",field:"eventDate",sortable:!0,align:"left"},{name:"eventTime",label:"Event Time",field:"eventTime",sortable:!0,align:"left"},{name:"numPieces",label:"Num Pieces",field:"numPieces",sortable:!0,align:"left"},{name:"weight",label:"weight",field:"weight",sortable:!0,align:"left"}]},loading(){return z().getLoading()}}};var q=t(68716),M=t(40792),K=t(45144),P=t(50213),_=t(21028),O=t(95252),V=t.n(O);const Y=(0,q.c)(C,[["render",W]]),B=Y;V()(C,"components",{QTable:M.c,QTr:K.c,QTd:P.c,QSpinner:_.c});const I={components:{flightDetail:B},data(){return{airWaybillNumber:{value:null,type:"search",props:{mask:"###-#########",unmaskedValue:!0,label:"Air Waybill Number",maxlength:12}}}},methods:{async getAwbTracking(){this.airWaybillNumber.value&&""!==this.airWaybillNumber.value?await z().getAwbTracking(this.airWaybillNumber.value):z().resetAwbTrackingList()}}};var R=t(99140);const S=(0,q.c)(I,[["render",g]]),j=S;V()(I,"components",{QBtn:R.c});const G={components:{flightTrackTrace:j}},U=(0,q.c)(G,[["render",n]]),$=U}}]);